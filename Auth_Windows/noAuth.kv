ScreenManager:
    noAuthScreen:
    noAuthScreenReg:
    inAuthScreen:

<noAuthScreen>:
    id: no_auth_screen
    RelativeLayout:
        #Создаем задний фон
        Widget:
            canvas:

                Color:
                    rgba: 0.2, 0.2, 0.4, 1  # Цвет контура
                Rectangle:
                    source: 'mylogo.png'
                    pos: 0,0
                    size: 1000, 650


        Widget:
            canvas:
                Color:
                    rgba: 0.1, 0.1, 0.8, 1  # Цвет контура (белый в данном случае)
                Line:
                    rectangle: self.x + 60, self.y + 171, 229, 317  # Указываем координаты и размер контура
                Color:
                    rgba: 0.1, 0.1, 0.2, 1  # Цвет контура (белый в данном случае)
                Rectangle:
                    source: 'mylogo.png'
                    pos: 62,172
                    size: 226, 315

        MDLabel:
            text: "Авторизация"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "24sp"
            bold: False
            pos: 100, 135

        MDTextField:
            id: login_field
            hint_text: "Логин"
            required: True
            helper_text: "*Обязательное поле"
            helper_text_mode: "on_error"
            size_hint_x: None  # Запрещаем автоматическое изменение ширины
            size_hint_y: None  # Запрещаем автоматическое изменение высоты
            width: "210dp"  # Устанавлваем желаемую ширину
            height: "50dp"  # Устанавливаем желаемую высоту
            pos: 70, 365    # Первое значение - горизонтальное положение, второе значение - вертикальное положение


        MDTextField:
            id: password_field
            hint_text: "Пароль"
            password: True
            required: True
            helper_text: "*Обязательное поле"
            helper_text_mode: "on_error"
            size_hint_x: None
            size_hint_y: None
            width: "210dp"
            height: "50dp"
            pos: 70, 285

        MDRaisedButton:     #использует pos_hint
            text: "Войти"
            #on_release: app.login(*args)
            on_release: root.login(*args)
            pos_hint: {'center_x': .175, 'center_y': .38}

        MDRaisedButton:
            text: "Зарегистрироваться"
            #on_release: app.register(*args)
            on_release: root.register(*args)
            pos_hint: {'center_x': .175, 'center_y': .31}


        Widget:
            canvas:
                Color:
                    rgba: 0.30, 0.30, 0.8, 1  # Цвет контура (белый в данном случае)
                Line:
                    rectangle: self.x + 744, self.y + 104, 228, 453  # Указываем координаты и размер контура
                    #radius: [(40, 40), (40, 40), (40, 40), (40, 40)]
                Color:
                    rgba: 0.15, 0.15, 0.3, 1  # Цвет контура (белый в данном случае)
                RoundedRectangle:
                    source: 'mylogo.png'
                    pos: 746,106
                    size: 225, 450
                    #radius: [(40, 40), (40, 40), (40, 40), (40, 40)]

        MDRaisedButton:
            text: "Создать\nорганизацию"
            #on_release: app.create_organization(*args)
            on_release: root.create_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.775}
            size_hint: 0.18, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.2, 1]  # Цвет фона кнопки (серый)
            theme_text_color: "Custom"
            text_color: [0.55, 0.55, 0.55, 1]

        MDRaisedButton:
            text: "Открыть\nсохраненную\nорганизацию"
            #on_release: app.open_organization(*args)
            on_release: root.create_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.575}
            size_hint: 0.2, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.2, 1]
            theme_text_color: "Custom"
            text_color: [0.55, 0.55, 0.55, 1]

        MDRaisedButton:
            text: "Загрузить\nорганизацию"
            #on_release: app.load_organization(*args)
            on_release: root.create_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.43}
            size_hint: 0.2, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.2, 1]
            theme_text_color: "Custom"
            text_color: [0.55, 0.55, 0.55, 1]

        MDRaisedButton:
            text: "Клонировать\nорганизацию\n с\n mama_art.com"
            #on_release: app.clone_organization(*args)
            on_release: root.create_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.27}
            size_hint: 0.2, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.2, 1]
            theme_text_color: "Custom"  # Указываем, что используем пользовательский цвет текста
            text_color: [0.55, 0.55, 0.55, 1]  # Устанавливаем цвет шрифта в формате RGBA (красный в данном случае)

        #MDLabel:
            #text: "Gerkon Schedile"
            #theme_text_color: "Primary"
            #font_size: "28sp"
            #bold: True  # Этот атрибут делает текст жирным
            #italic: True
            #pos_hint: {'center_x': .575, 'center_y': .825}

        Image:
            source: 'Pictures/mainLogo.png'
            pos_hint: {'center_x': 0.17, 'center_y': 0.82}
            size_hint: (0.15, 0.15)

        Widget:
            canvas:
                Color:
                    rgba: 0.30, 0.30, 0.8, 1  # Цвет контура (белый в данном случае)
                Line:
                    rectangle: self.x + 320, self.y + 106, 400, 451  # Указываем координаты и размер контура
                Color:
                    rgba: 0.15, 0.15, 0.3, 1  # Цвет контура (белый в данном случае)
                Rectangle:
                    source: 'mylogo.png'
                    pos: 320,106
                    size: 400, 450
        MDLabel:
            text: "Прайс лист"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "22sp"
            bold: True
            pos_hint: {'center_x': 0.95, 'center_y': 0.8}

        MDLabel:
            text: "Тариф"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "22sp"
            bold: False
            pos_hint: {'center_x': 0.85, 'center_y': 0.72}

        MDLabel:
            text: "Цена"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "22sp"
            bold: False
            pos_hint: {'center_x': 1.13, 'center_y': 0.72}

        MDLabel:
            text: "Одноразовая\nгенерация"
            theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.85, 'center_y': 0.62}

        MDLabel:
            text: "2300р"
            theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 1.13, 'center_y': 0.62}

        Widget:
            canvas:
                Color:
                    rgba: 0.30, 0.30, 0.8, 1  # Цвет контура (белый в данном случае)
                Line:
                    rectangle: self.x + 61, self.y + 106, 229, 55  # Указываем координаты и размер контура
                Color:
                    rgba: 0.15, 0.15, 0.3, 1  # Цвет контура (белый в данном случае)
                Rectangle:
                    source: 'mylogo.png'
                    pos: 62,108
                    size: 226, 53
        MDLabel:
            id: time_label
            text: ''
            halign: 'center'
            font_style: 'H6'
            theme_text_color: 'Secondary'
            pos_hint: {'center_x': 0.175, 'center_y': 0.205}

<noAuthScreenReg>:
    BoxLayout:
        orientation: "vertical"
        MDLabel:
            text: "Регистрация"
            font_style: "H4"
        MDTextField:
            hint_text: "Имя"
        MDTextField:
            hint_text: "Email"
        MDRaisedButton:
            text: "Зарегистрироваться"
            on_release: app.register(*args)

<inAuthScreen>:
    id: in_auth_screen
    BoxLayout:
        orientation: "vertical"
        MDLabel:
            text: "Добро пожаловать в систему"
            font_style: "H4"
            halign: "center"
            size_hint_y: None
            height: "48dp"

        MDRaisedButton:
            text: "Выход"
            on_release: app.logout()
    RelativeLayout:
        #Создаем задний фон
        Widget:
            canvas:

                Color:
                    rgba: 0.2, 0.2, 0.4, 1  # Цвет контура
                Rectangle:
                    source: 'mylogo.png'
                    pos: 0,0
                    size: 1000, 650

        #Создаём контур и фон для кнопок "Создать организацию" и т. д.
        Widget:
            canvas:
                Color:
                    rgba: 0.30, 0.30, 0.8, 1  # Цвет контура
                Line:
                    rectangle: self.x + 744, self.y + 104, 228, 453  # Указываем координаты и размер контура
                Color:
                    rgba: 0.15, 0.15, 0.3, 1  # Цвет контура
                Rectangle:
                    source: 'mylogo.png'
                    pos: 746,106
                    size: 225, 450

        MDRaisedButton:
            text: "Создать\nорганизацию"
            #on_release: app.create_organization(*args)
            on_release: root.create_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.775}
            size_hint: 0.18, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.6, 1]  # Цвет фона кнопки (серый)
            theme_text_color: "Primary"
            #text_color: [0.55, 0.55, 0.55, 1]

        MDRaisedButton:
            text: "Открыть\nсохраненную\nорганизацию"
            #on_release: app.open_organization(*args)
            on_release: root.open_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.575}
            size_hint: 0.2, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.5, 1]
            theme_text_color: "Primary"
            #text_color: [0.55, 0.55, 0.55, 1]

        MDRaisedButton:
            text: "Загрузить\nорганизацию"
            #on_release: app.load_organization(*args)
            on_release: root.load_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.43}
            size_hint: 0.2, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.5, 1]
            theme_text_color: "Primary"
            #text_color: [0.55, 0.55, 0.55, 1]

        MDRaisedButton:
            text: "Клонировать\nорганизацию\n с\n mama_art.com"
            #on_release: app.clone_organization(*args)
            on_release: root.clone_organization()
            pos_hint: {'center_x': 0.86, 'center_y': 0.27}
            size_hint: 0.2, 0.1
            font_size: "17sp"  # Устанавливаем размер текста
            md_bg_color: [0.2, 0.2, 0.5, 1]
            theme_text_color: "Primary"  # Указываем, что используем пользовательский цвет текста
            #text_color: [0.55, 0.55, 0.55, 1]  # Устанавливаем цвет шрифта в формате RGBA (красный в данном случае)

        #Создание надписи названия компании.
        #MDLabel:
            #text: "Gerkon Schedile"
            #theme_text_color: "Primary"
            #font_size: "28sp"
            #bold: True  # Этот атрибут делает текст жирным
            #italic: True
            #pos_hint: {'center_x': .575, 'center_y': .825}

        #Создание общей рамки для информации о пользователе.
        Widget:
            canvas:
                Color:
                    rgba: 0.3, 0.3, 0.8, 1  # Цвет контура
                Line:
                    rectangle: 30, self.y + 106, 690, 451  # Указываем координаты и размер контура
                Color:
                    rgba: 0.15, 0.15, 0.3, 1  # Цвет контура
                Rectangle:
                    source: 'mylogo.png'
                    pos: 31,106
                    size: 689, 450

        #Кнопки/текст о пользователе.
        #MDLabel:
            #text: "Информация"
            #theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            #font_size: "22sp"
            #bold: True
            #pos_hint: {'center_x': 0.87, 'center_y': 0.8}
        MDLabel:
            text: "Фамилия:"
            theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.73, 'center_y': 0.755}
        MDLabel:
            text: "Беликова"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.82, 'center_y': 0.755}
        MDLabel:
            text: "Имя:"
            theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.73, 'center_y': 0.685}
        MDLabel:
            text: "Ксения"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.78, 'center_y': 0.685}
        MDLabel:
            text: "Отчество:"
            theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.73, 'center_y': 0.615}
        MDLabel:
            text: "Юрьевна"
            theme_text_color: "Primary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.82, 'center_y': 0.615}
        MDLabel:
            text: "Уровень подписки:"
            theme_text_color: "Secondary"
            #text_color: 0, 1, 1, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.73, 'center_y': 0.545}
        MDLabel:
            text: "Оплачено на месяц"
            theme_text_color: "Custom"
            text_color: 0, 1, 0, 1
            font_size: "18sp"
            bold: False
            pos_hint: {'center_x': 0.9, 'center_y': 0.545}
        #Логотип
        Image:
            source: 'Pictures/mainLogo.png'
            pos_hint: {'center_x': 0.65, 'center_y': 0.22}
            size_hint: (0.1, 0.1)
        MDLabel:
            id: time_label
            text: ''
            halign: 'center'
            font_style: 'H6'
            theme_text_color: 'Secondary'
            pos_hint: {'center_x': 0.15, 'center_y': 0.22}

        #Изображение пользователя
        Image:
            source: 'Pictures/rasm.png.JPG'
            pos_hint: {'center_x': 0.14, 'center_y': 0.65 }
            size_hint: (0.3, 0.3)